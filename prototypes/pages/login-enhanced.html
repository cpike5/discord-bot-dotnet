<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - Discord Bot</title>
  <link rel="stylesheet" href="../css/tokens.css">
  <style>
    /* Global Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-primary);
      background: linear-gradient(135deg, var(--surface-primary) 0%, var(--color-neutral-800) 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: var(--space-4);
    }

    /* Login Container */
    .login-container {
      background: var(--bg-primary);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-xl);
      width: 100%;
      max-width: 450px;
      overflow: hidden;
    }

    /* Header */
    .login-header {
      background: var(--surface-primary);
      color: white;
      padding: var(--space-8);
      text-align: center;
    }

    .logo {
      width: 60px;
      height: 60px;
      background: var(--color-primary);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--text-3xl);
      font-weight: var(--font-bold);
      margin: 0 auto var(--space-4);
    }

    .login-header h1 {
      font-size: var(--text-2xl);
      margin-bottom: var(--space-2);
    }

    .login-header p {
      font-size: var(--text-sm);
      color: rgba(255, 255, 255, 0.8);
    }

    /* Content Area */
    .login-content {
      padding: var(--space-8);
    }

    /* OAuth Section */
    .oauth-section {
      margin-bottom: var(--space-6);
    }

    .section-title {
      font-size: var(--text-sm);
      font-weight: var(--font-semibold);
      color: var(--text-secondary);
      text-align: center;
      margin-bottom: var(--space-4);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .oauth-btn {
      width: 100%;
      padding: var(--space-3) var(--space-4);
      border: 2px solid var(--border-medium);
      border-radius: var(--radius-lg);
      background: var(--bg-primary);
      cursor: pointer;
      transition: all var(--transition-base);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-3);
      font-family: var(--font-primary);
      font-size: var(--text-base);
      font-weight: var(--font-semibold);
      color: var(--text-primary);
      margin-bottom: var(--space-3);
    }

    .oauth-btn:last-of-type {
      margin-bottom: 0;
    }

    .oauth-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .oauth-icon {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .oauth-btn.discord {
      background: #5865F2;
      border-color: #5865F2;
      color: white;
    }

    .oauth-btn.discord:hover {
      background: #4752C4;
      border-color: #4752C4;
    }

    .oauth-btn.microsoft {
      background: white;
      border-color: var(--border-medium);
      color: var(--text-primary);
    }

    .oauth-btn.microsoft:hover {
      border-color: #0078D4;
      background: #F3F9FD;
    }

    .oauth-btn.google {
      background: white;
      border-color: var(--border-medium);
      color: var(--text-primary);
    }

    .oauth-btn.google:hover {
      border-color: #4285F4;
      background: #F8FBFF;
    }

    /* Divider */
    .divider {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      margin: var(--space-6) 0;
      color: var(--text-muted);
      font-size: var(--text-sm);
    }

    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border-medium);
    }

    /* Form */
    .form-group {
      margin-bottom: var(--space-5);
    }

    .form-label {
      display: block;
      font-size: var(--text-sm);
      font-weight: var(--font-semibold);
      color: var(--text-primary);
      margin-bottom: var(--space-2);
    }

    .form-input {
      width: 100%;
      padding: var(--space-3) var(--space-4);
      border: 1px solid var(--border-medium);
      border-radius: var(--radius-md);
      font-family: var(--font-primary);
      font-size: var(--text-base);
      transition: var(--transition-base);
    }

    .form-input:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(218, 65, 103, 0.1);
    }

    .form-input.error {
      border-color: var(--color-danger);
    }

    /* Helper elements */
    .forgot-password {
      text-align: right;
      margin-top: var(--space-2);
    }

    .forgot-password a {
      color: var(--color-primary);
      text-decoration: none;
      font-size: var(--text-sm);
      font-weight: var(--font-medium);
    }

    .forgot-password a:hover {
      text-decoration: underline;
    }

    /* Error Message */
    .error-message {
      background: rgba(218, 65, 103, 0.1);
      border: 1px solid var(--color-danger);
      border-radius: var(--radius-md);
      padding: var(--space-3);
      margin-bottom: var(--space-5);
      display: flex;
      align-items: center;
      gap: var(--space-2);
      color: var(--color-danger);
      font-size: var(--text-sm);
    }

    /* Buttons */
    .btn {
      width: 100%;
      padding: var(--space-4);
      border: none;
      border-radius: var(--radius-md);
      font-family: var(--font-primary);
      font-size: var(--text-base);
      font-weight: var(--font-semibold);
      cursor: pointer;
      transition: var(--transition-base);
    }

    .btn-primary {
      background: var(--color-primary);
      color: white;
    }

    .btn-primary:hover:not(:disabled) {
      background: var(--color-primary-hover);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Footer */
    .login-footer {
      padding: var(--space-6);
      background: var(--bg-secondary);
      border-top: 1px solid var(--border-light);
      text-align: center;
    }

    .login-footer a {
      color: var(--color-primary);
      text-decoration: none;
      font-weight: var(--font-semibold);
    }

    .login-footer a:hover {
      text-decoration: underline;
    }

    /* Loading Spinner */
    .spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-top-color: white;
      border-radius: 50%;
      animation: spin 0.6s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="login-container">
    <!-- Header -->
    <div class="login-header">
      <div class="logo">DB</div>
      <h1>Welcome Back</h1>
      <p>Sign in to your Discord bot account</p>
    </div>

    <!-- Content -->
    <div class="login-content">
      <!-- Error Message (hidden by default) -->
      <div id="errorMessage" class="error-message" style="display: none;">
        <span>‚ö†Ô∏è</span>
        <span id="errorText"></span>
      </div>

      <!-- OAuth Section -->
      <div class="oauth-section">
        <div class="section-title">Quick Sign-In</div>

        <button class="oauth-btn discord" onclick="handleOAuth('discord')">
          <div class="oauth-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
            </svg>
          </div>
          <span>Continue with Discord</span>
        </button>

        <button class="oauth-btn microsoft" onclick="handleOAuth('microsoft')">
          <div class="oauth-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M11.4 3H3v8.4h8.4V3z" fill="#f25022"/>
              <path d="M21 3h-8.4v8.4H21V3z" fill="#7fba00"/>
              <path d="M11.4 12.6H3V21h8.4v-8.4z" fill="#00a4ef"/>
              <path d="M21 12.6h-8.4V21H21v-8.4z" fill="#ffb900"/>
            </svg>
          </div>
          <span>Continue with Microsoft</span>
        </button>

        <button class="oauth-btn google" onclick="handleOAuth('google')">
          <div class="oauth-icon">
            <svg width="24" height="24" viewBox="0 0 24 24">
              <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
              <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
              <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
              <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
          </div>
          <span>Continue with Google</span>
        </button>
      </div>

      <div class="divider">or</div>

      <!-- Email/Password Form -->
      <form id="loginForm">
        <div class="form-group">
          <label class="form-label" for="email">Email</label>
          <input
            type="email"
            id="email"
            class="form-input"
            placeholder="your.email@example.com"
            required
          >
        </div>

        <div class="form-group">
          <label class="form-label" for="password">Password</label>
          <input
            type="password"
            id="password"
            class="form-input"
            placeholder="Enter your password"
            required
          >
          <div class="forgot-password">
            <a href="#">Forgot password?</a>
          </div>
        </div>

        <button type="submit" class="btn btn-primary" id="loginBtn">
          Sign In
        </button>
      </form>
    </div>

    <!-- Footer -->
    <div class="login-footer">
      <p>Don't have an account? <a href="register-multistep.html">Create one</a></p>
    </div>
  </div>

  <script>
    // Handle email/password login
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const submitBtn = document.getElementById('loginBtn');

      // Hide previous errors
      document.getElementById('errorMessage').style.display = 'none';

      // Show loading
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span class="spinner"></span> Signing in...';

      // Simulate API call
      setTimeout(() => {
        // Mock validation
        if (email === 'test@example.com' && password === 'password') {
          alert('Login successful! Welcome back.');
          window.location.href = 'admin-dashboard-polished.html';
        } else {
          showError('Invalid email or password. Please try again.');
          submitBtn.disabled = false;
          submitBtn.innerHTML = 'Sign In';
        }
      }, 1500);
    });

    function showError(message) {
      const errorDiv = document.getElementById('errorMessage');
      const errorText = document.getElementById('errorText');
      errorText.textContent = message;
      errorDiv.style.display = 'flex';
    }

    function handleOAuth(provider) {
      const providerConfig = {
        discord: {
          name: 'Discord',
          url: 'https://discord.com/api/oauth2/authorize',
          icon: 'üéÆ'
        },
        microsoft: {
          name: 'Microsoft',
          url: 'https://login.microsoftonline.com/common/oauth2/v2.0/authorize',
          icon: 'üè¢'
        },
        google: {
          name: 'Google',
          url: 'https://accounts.google.com/o/oauth2/v2/auth',
          icon: 'üîç'
        }
      };

      const config = providerConfig[provider];

      if (!config) {
        alert('Unknown OAuth provider');
        return;
      }

      // Show loading message
      const message = `${config.icon} Redirecting to ${config.name} OAuth...\n\nIn production, this would redirect to:\n${config.url}`;
      alert(message);

      // Simulate OAuth success
      setTimeout(() => {
        alert(`‚úÖ ${config.name} login successful!`);
        window.location.href = 'admin-dashboard-polished.html';
      }, 2000);
    }

    // Test credentials hint
    console.log('Test credentials:\nEmail: test@example.com\nPassword: password');
  </script>
</body>
</html>
